> # Note: This repository is hosted on [GitLab](https://gitlab.secintel.intranet.ibm.com/gaf/appfw-docs) the GitHub repository is just a mirror, changes need to be made on GitLab.

# QRadar App Framework documentation

This repo stores the QRadar App Framework Documentation.

## Viewing this repository's docs

You can view the *published* documentation (synced up to the Knowledge Center) on branch `master` of these docs by
[going to this site](https://docs.secintel.intranet.ibm.com/gaf/appfw-docs/snapshot/master/).


You can view the *unpublished* documentation (internal only) on branch `develop` of these docs by [going to this
site](https://docs.secintel.intranet.ibm.com/gaf/appfw-docs/snapshot/develop/).

## Quick start

Get started contributing to these docs by following these steps:

1. [Fork the `gaf/appfw-docs` repository](https://gitlab.secintel.intranet.ibm.com/gaf/appfw-docs/-/forks).
2. Clone the `gaf/appfw-docs` repository:

```bash
git clone git@gitlab.secintel.intranet.ibm.com:gaf/appfw-docs.git
```

3. Add your fork as a remote to your local git repository.

```bash
GIT_NAMESPACE=<your Git namespace here, e.g. firstname.lastname>
cd appfw-docs && git remote add fork git@gitlab.secintel.intranet.ibm.com:${GIT_NAMESPACE}/appfw-docs.git
```

4. Make a new branch, add your changes, commit your changes, and push to your fork.
5. Make a merge request into the `gaf/appfw-docs` repository.

## Style guide

Please follow the [style guide](./STYLE_GUIDE.md) when writing documentation in this repository.

## Templates

There are two templates:

- The [documentation template](./templates/documentation_template.md) (`templates/documentation_template.md`)
- The [tutorial template](./templates/tutorial_template.md) (`templates/tutorial_template.md`)

Copy these templates and use them to start writing the documentation.

## Viewing the docs locally

Required dependencies:

- [Python 3.x](https://www.python.org/downloads/)
- Make (installed on most systems by default, for
[windows see here](http://gnuwin32.sourceforge.net/packages/make.htm))

Serve the docs locally with the following command in the project root:

```bash
make serve
```

The docs should be accessible from
[`http://localhost:8000`](http://localhost:8000).

## Linting

This repository includes a small linter that runs using NodeJS, it will report any markdown fixes alongside the any
rules that the markdown violates.

To run the linter locally, the following dependencies are required:

- [NodeJS 12.x and NPM 6.x](https://nodejs.org/en/download/)
- Make (installed on most systems by default, for
[windows see here](http://gnuwin32.sourceforge.net/packages/make.htm))

The markdown linter can be installed by running:

```bash
npm install -g markdownlint-cli@0.23.2
```

Then the docs can be run with the following command in the project root:

```bash
make lint
```

> This linter must pass without any errors for the CI to pass.

## Documentation generation

Some of these docs are generated by scripts, for example a list of all the packages in the latest base image.
Generating these docs require these dependencies:

- [`jq`](https://github.com/stedolan/jq)
- [Docker](https://www.docker.com/)

They also require you to be authenticated with the internal Docker registry:

```bash
docker login docker-release.secintel.intranet.ibm.com
```

Then you can run the generation command:

```bash
make generate
```

This will update any relevant documentation with the generated versions.

### Updating qradar-app-base

If you are documenting a new `qradar-app-base` image release, modify the `Makefile` and the `LATEST_BASE_IMAGE_VERSION`
variable to the new base image tag. The generation script will then use this for any documentation generation.

## Git branch strategy

The strategy that this repository follows is to keep two branches, `master` and `develop`. The `master` branch is
treated as content that should be **published**, the content should be in a released QRadar version and ready for
public use. The `develop` branch is treated as content that is **unpublished**, containing information that is not
ready for public use - for example documentation on features that are not in a released version of QRadar.

## Knowledge Center pipeline

Look at the [Knowledge Center pipeline document for details](./KC_PIPELINE.md).
